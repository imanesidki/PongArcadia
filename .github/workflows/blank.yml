name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest

  #   services:
  #     postgres:
  #       image: postgres:15
  #       env:
  #         POSTGRES_DB: test_db
  #         POSTGRES_USER: user
  #         POSTGRES_PASSWORD: password
  #       ports:
  #         - 5432:5432
  #       options: >-
  #         --health-cmd="pg_isready -U user"
  #         --health-interval=10s
  #         --health-timeout=5s
  #         --health-retries=5
    # steps:
    #   - name: Checkout code
    #     uses: actions/checkout@v2

    #   - name: Set up Python
    #     uses: actions/setup-python@v2
    #     with:
    #       python-version: '3.11'

    #   - name: Install dependencies
    #     run: |
    #       python -m pip install --upgrade pip
    #       pip install -r backend/requirements.txt

    #   - name:  apply migration && Run tests
    #     run: |
    #       python backend/manage.py migrate
    #       python backend/manage.py test

    #   - name: Set up Node.js
    #     uses: actions/setup-node@v2
    #     with:
    #       node-version: '20'

    #   - name: Install Next.js dependencies
    #     run: npm install

    #   - name: Run lint
    #     run: npm run lint

    #   - name: Build project
    #     run: npm run build

    #   - name: Run tests
    #     run: npm test

    # - name: Upload build artifacts
    #   uses: actions/upload-artifact@v2
    #   with:
    #     name: nextjs-build
    #     path: .next

#Testing: For Django : pytest or Djangoâ€™s built-in test framework. For Next.js : jest.
#to keep in mind : Matrix builds, parallel jobs, and caching.
